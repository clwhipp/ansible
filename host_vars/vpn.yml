ansible_become_pass: "{{ lookup('bitwarden_password', 'vpn_linux_user_password') }}"

# Common Overrides
hostname: "vpn"
fqdn: "{{ hostname }}.{{ domain }}"
user_password: "{{ lookup('bitwarden_field', 'hash', 'vpn_linux_user_password') }}"

# Nebula Configurations
nebula_service_restart: false
nebula_is_lighthouse: true
nebula_sign_enable: true
nebula_sign_profile: "{{ fqdn }}"
nebula_install_dir: "/etc/nebula"
nebula_inbound_rules:

  - port: "{{ ssh_port_v }}"
    proto: tcp
    group: admin

  - port: "{{ ssh_port_v }}"
    proto: tcp
    group: acl:admin

  - port: "{{ nebula_port_v }}"
    proto: tcp
    ca_sha: "{{ ca_sha_v }}"
